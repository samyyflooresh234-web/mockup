<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mockup Boletos</title>

<style>
:root{
  --shadow-color: 0,0,0;
  --shadow-strength: 25;
  --bg-tone: 255;
}

body{
  margin:0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background: rgb(var(--bg-tone),var(--bg-tone),var(--bg-tone));
}

.controls{
  padding:12px;
  background:#f2f2f2;
  position:sticky;
  top:0;
  z-index:10;
}

.controls label{
  font-size:12px;
  display:block;
  margin-top:8px;
}

.controls input[type="range"],
.controls input[type="color"],
.controls select{
  width:100%;
}

.stage{
  display:flex;
  justify-content:center;
  padding:40px 0;
}

.canvas{
  position:relative;
  width:360px;
  aspect-ratio:1/1;
}

.canvas[data-format="story"]{aspect-ratio:9/16;}
.canvas[data-format="wide"]{aspect-ratio:19/6;}

.ticket{
  position:absolute;
  left:50%;
  width:80%;
  aspect-ratio:3/1;
  background:#fff;
  border-radius:10px;
  transform:translateX(-50%);
  box-shadow:
    0 18px 35px rgba(var(--shadow-color),0.35),
    0 4px var(--shadow-strength)px rgba(var(--shadow-color),0.25);
  overflow:hidden;
}

.ticket img{
  width:100%;
  height:100%;
  object-fit:cover;
}
</style>
</head>

<body>

<div class="controls">
  <label>Formato</label>
  <select id="format">
    <option value="1">1:1</option>
    <option value="story">Historia Instagram</option>
    <option value="wide">19:6</option>
  </select>

  <label>Separación vertical</label>
  <input type="range" id="spread" min="0" max="140" value="60">

  <label>Color de sombra</label>
  <input type="color" id="shadowColor" value="#000000">

  <label>Fuerza de sombra</label>
  <input type="range" id="shadowStrength" min="5" max="60" value="25">

  <label>Fondo (blanco → negro)</label>
  <input type="range" id="bgTone" min="0" max="255" value="255">
</div>

<div class="stage">
  <div class="canvas" id="canvas" data-format="1">
    <div class="ticket" style="top:0%"><img></div>
    <div class="ticket" style="top:15%"><img></div>
    <div class="ticket" style="top:30%"><img></div>
    <div class="ticket" style="top:45%"><img></div>
    <div class="ticket" style="top:60%"><img></div>
  </div>
</div>

<script>
const tickets = document.querySelectorAll('.ticket');

document.getElementById('spread').oninput = e=>{
  tickets.forEach((t,i)=>{
    t.style.top = (i * e.target.value / 2) + 'px';
  });
};

document.getElementById('format').onchange = e=>{
  document.getElementById('canvas').dataset.format = e.target.value;
};

document.getElementById('shadowColor').oninput = e=>{
  const c = e.target.value.match(/\w\w/g).map(x=>parseInt(x,16));
  document.documentElement.style.setProperty('--shadow-color', c.join(','));
};

document.getElementById('shadowStrength').oninput = e=>{
  document.documentElement.style.setProperty('--shadow-strength', e.target.value);
};

document.getElementById('bgTone').oninput = e=>{
  document.documentElement.style.setProperty('--bg-tone', e.target.value);
};

// carga imágenes
tickets.forEach(t=>{
  t.onclick=()=>{
    const i=document.createElement('input');
    i.type='file'; i.accept='image/*';
    i.onchange=e=>t.querySelector('img').src=URL.createObjectURL(e.target.files[0]);
    i.click();
  };
});
</script>

</body>
</html>
